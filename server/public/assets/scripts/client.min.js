var app=angular.module("myApp",[]);app.controller("MainController",["$http",function(a){var b=this;b.showEdit=!1;var c=function(){a.get("/ticket").then(function(a){if(200!==a.status)throw new Error("Failed to get tickets");b.tickets=a.data,b.ticket={}})};b.addTicket=function(b){a.post("/ticket",b).then(c())},b.deleteTicket=function(b,d){var e=b._id;a["delete"]("/ticket/"+e).then(c())},b.editTicket=function(a,c){b.showEdit=!0},b.saveTicket=function(d,e){a.put("/ticket/saveTicket",d).then(c()),b.showEdit=!1},b.cancelEdit=function(){b.showEdit=!1,c()},c()}]);